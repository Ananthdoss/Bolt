<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.3"/>
<title>Bolt: bolt Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Bolt
   &#160;<span id="projectnumber">1.3</span>
   </div>
   <div id="projectbrief">C++ template library with support for OpenCL</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.3 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li class="current"><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="namespaces.html"><span>Namespace&#160;List</span></a></li>
      <li><a href="namespacemembers.html"><span>Namespace&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#namespaces">Namespaces</a> &#124;
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">bolt Namespace Reference<div class="ingroups"><a class="el" href="group__AMP-TransformIterator.html">AMP-TransformIterator</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Defining namespace for the Bolt project.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="namespaces"></a>
Namespaces</h2></td></tr>
<tr class="memitem:namespacebolt_1_1amp"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacebolt_1_1amp.html">amp</a></td></tr>
<tr class="memdesc:namespacebolt_1_1amp"><td class="mdescLeft">&#160;</td><td class="mdescRight">Namespace containing AMP related data types and functions. <br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:namespacebolt_1_1cl"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacebolt_1_1cl.html">cl</a></td></tr>
<tr class="memdesc:namespacebolt_1_1cl"><td class="mdescLeft">&#160;</td><td class="mdescRight">Namespace containing OpenCL related data types and functions. <br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbolt_1_1ArrayPool.html">ArrayPool</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbolt_1_1synchronized__view.html">synchronized_view</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ac9a44743c7b5bad98e121cf8175f0ef2"><td class="memTemplParams" colspan="2">template&lt;typename IterType , typename Function &gt; </td></tr>
<tr class="memitem:ac9a44743c7b5bad98e121cf8175f0ef2"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespacebolt.html#ac9a44743c7b5bad98e121cf8175f0ef2">parallel_iteration</a> (concurrency::extent&lt; 1 &gt; ext, IterType Init, Function f)</td></tr>
<tr class="separator:ac9a44743c7b5bad98e121cf8175f0ef2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67b458ea3315ab330d3727fd06a0c26f"><td class="memTemplParams" colspan="2"><a class="anchor" id="a67b458ea3315ab330d3727fd06a0c26f"></a>
template&lt;typename IterType , typename Function &gt; </td></tr>
<tr class="memitem:a67b458ea3315ab330d3727fd06a0c26f"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><b>parallel_iteration_1</b> (concurrency::extent&lt; 1 &gt; ext, IterType Init, Function f)</td></tr>
<tr class="separator:a67b458ea3315ab330d3727fd06a0c26f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Defining namespace for the Bolt project. </p>
<p>transform iterator adapts an iterator by modifying the operator* to apply a function object to the result of dereferencing the iterator and returning the result..</p>
<p>The following example demonstrates how to use a <code><a class="el" href="classtransform__iterator.html">transform_iterator</a></code>.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="amp_2iterator_2transform__iterator_8h.html">bolt/amp/iterator/transform_iterator.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="amp_2transform_8h.html" title="Applies a specific function object to each element pair in the specified input ranges.">bolt/amp/transform.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="amp_2functional_8h.html" title="List all the unary and binary functions.">bolt/amp/functional.h</a>&gt;</span></div>
<div class="line"><span class="comment">//In AMP, Transform Iterator works only with device_vectors.</span></div>
<div class="line"><span class="comment">//The example here uses device_vector iterators.</span></div>
<div class="line"></div>
<div class="line">  <span class="keyword">struct </span>UDD</div>
<div class="line">  {</div>
<div class="line">      <span class="keywordtype">int</span> i;</div>
<div class="line">      <span class="keywordtype">float</span> f;</div>
<div class="line"></div>
<div class="line">   UDD operator = (<span class="keyword">const</span> <span class="keywordtype">int</span> rhs) </div>
<div class="line">      {</div>
<div class="line">          UDD _result;</div>
<div class="line">          _result.i = i + rhs;</div>
<div class="line">          _result.f = f + (float)rhs;</div>
<div class="line">          <span class="keywordflow">return</span> _result;</div>
<div class="line">      }</div>
<div class="line"></div>
<div class="line">   UDD operator + (<span class="keyword">const</span> UDD &amp;rhs)<span class="keyword"> const</span></div>
<div class="line"><span class="keyword">      </span>{</div>
<div class="line">          UDD _result;</div>
<div class="line">          _result.i = this-&gt;i + rhs.i;</div>
<div class="line">          _result.f = this-&gt;f + rhs.f;</div>
<div class="line">          <span class="keywordflow">return</span> _result;</div>
<div class="line">      }</div>
<div class="line">      UDD()</div>
<div class="line">          : i(0), f(0) { }</div>
<div class="line">      UDD(<span class="keywordtype">int</span> _in)</div>
<div class="line">          : i(_in), f((float)(_in+2) ){ }</div>
<div class="line">   };</div>
<div class="line"></div>
<div class="line"></div>
<div class="line">    <span class="keyword">struct </span>UDDadd_3</div>
<div class="line">    {</div>
<div class="line">        UDD operator() (<span class="keyword">const</span> UDD &amp;x)<span class="keyword"> const</span></div>
<div class="line"><span class="keyword">         </span>{ </div>
<div class="line">           UDD temp;</div>
<div class="line">           temp.i = x.i + 3;</div>
<div class="line">           temp.f = x.f + 3.0f;</div>
<div class="line">           <span class="keywordflow">return</span> temp; </div>
<div class="line">         }</div>
<div class="line">        <span class="keyword">typedef</span> UDD result_type;</div>
<div class="line">        <span class="comment">//Note that the result_type needs to be defined and should be type-defined to the  </span></div>
<div class="line">        <span class="comment">//return type of operator () overload.</span></div>
<div class="line">    };</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="keywordtype">int</span> main() {</div>
<div class="line">  <span class="comment">// Create device_vectors</span></div>
<div class="line">  <a class="code" href="classbolt_1_1amp_1_1device__vector.html" title="This defines the AMP version of a device_vector.">bolt::amp::device_vector&lt; UDD &gt;</a> dvInVec1( 5 );</div>
<div class="line">  <a class="code" href="classbolt_1_1amp_1_1device__vector.html" title="This defines the AMP version of a device_vector.">bolt::amp::device_vector&lt; UDD &gt;</a> dvInVec2( 5 );</div>
<div class="line">  <a class="code" href="classbolt_1_1amp_1_1device__vector.html" title="This defines the AMP version of a device_vector.">bolt::amp::device_vector&lt; UDD &gt;</a> dvDestVec( 5, 0 );</div>
<div class="line">  UDDadd_3 add3;</div>
<div class="line"></div>
<div class="line">  <span class="keyword">typedef</span> <a class="code" href="classbolt_1_1amp_1_1transform__iterator.html">bolt::amp::transform_iterator&lt; UDDadd_3, bolt::amp::device_vector&lt; UDD &gt;::iterator</a>&gt; dv_trf_itr_add3;</div>
<div class="line">  dv_trf_itr_add3 dv_trf_begin (dvInVec1.begin(), add3), dv_trf_end (dvInVec1.end(), add3);</div>
<div class="line">  <span class="comment">// Fill values</span></div>
<div class="line">  dvInVec1[ 0 ] = 10 ; dvInVec1[ 1 ] = 15 ; dvInVec1[ 2 ] = 20 ;</div>
<div class="line">  dvInVec1[ 3 ] = 25 ; dvInVec1[ 4 ] = 30 ;</div>
<div class="line">  dvInVec2[ 0 ] = 10 ; dvInVec2[ 1 ] = 15 ; dvInVec2[ 2 ] = 20 ;</div>
<div class="line">  dvInVec2[ 3 ] = 25 ; dvInVec2[ 4 ] = 30 ;       </div>
<div class="line"></div>
<div class="line">  ...</div>
<div class="line">  <a class="code" href="group__AMP-transform.html#ga9d6bb9e4f1a01391529fe77c7b2cb2f1">bolt::amp::transform</a>(dv_trf_begin,</div>
<div class="line">                      dv_trf_end,</div>
<div class="line">                      dvInVec2.begin( ),</div>
<div class="line">                      dvDestVec.begin( ),</div>
<div class="line">                      <a class="code" href="structbolt_1_1amp_1_1plus.html">bolt::amp::plus&lt; int &gt;</a>( ) );</div>
<div class="line"></div>
<div class="line">}</div>
</div><!-- fragment --> </div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ac9a44743c7b5bad98e121cf8175f0ef2"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename IterType , typename Function &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void bolt::parallel_iteration </td>
          <td>(</td>
          <td class="paramtype">concurrency::extent&lt; 1 &gt;&#160;</td>
          <td class="paramname"><em>ext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IterType&#160;</td>
          <td class="paramname"><em>Init</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Function&#160;</td>
          <td class="paramname"><em>f</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>parallel_iteration1 : Slow implementation - just use a parallel_for for all devices.</p>
<p>Init is the initial state for the Iteration type for every index.</p>
<p>The user provides a functor that accepts two arguments: index&lt;&gt; - location in the extent to be processed. IterType : User-supplied type that tracks the state of each iteration. The functor is responsible for : Updating the state so that it points to the next 'iteration'. The next "iteration" could be the next cascade stage in a face-detection algorithm, or the next iteration of a loop. It is very important to update to the next state to avoid an infinite loop. Returns true if the Bolt runtime is to schedule the next iteration, or false if the runtime is to exit. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Nov 26 2014 18:38:34 for Bolt by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.3
</small></address>
</body>
</html>
